import base64 exec(base64.b64decode("IyBTb3JyeSBGb3IgU2NyaXB0IENvcHkgSGFtaWQKIyBNYWRlIEluIEJhbmdsYWRlc2ggQ29kaW5nIGJ5IFBzeWNobyBUb29scwojIERlY29tcGlsZSBieSBQc3ljaG8gKFRvb2xzIEJ5IFBzeWNobyBQaWNjaGkpCiMgVGltZSBTdWNjZXMgZGVjb21waWxlIDogMjAyMi0wNC0wOSAyMDo1MjoxMS4zMjkxODYKaW1wb3J0IG9zLHJlLHN5cyx0aW1lLHJhbmRvbSxkYXRldGltZSxyZXF1ZXN0cwpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yCmZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHBhcnNlcgpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCgpIID0gKCdceDFiWzE7OTBtJykKTSA9ICgnXHgxYlsxOzkxbScpCkggPSAoJ1x4MWJbMTs5Mm0nKQpLID0gKCdceDFiWzE7OTNtJykKVCA9ICgnXHgxYlsxOzk0bScpClUgPSAoJ1x4MWJbMTs5NW0nKQpCID0gKCdceDFiWzE7OTZtJykKUCA9ICgnXHgxYlsxOzk3bScpCmxvZ28gPSAiIiIKZmlnbGV0IFBpY2NoaSB8IGxvbGNhdAoiIiIKX19fYmFubmVyX19fID0gKCIiIiAKClwwMzNbMDs5M20gX19fXyAgX18gIF9fXyAgX19fICBfICBfICBfXyAgClwwMzNbMDs5M20oICBfIFwoICApLyBfXykvIF9fKS8gKSggXCggICkgClwwMzNbMDs5Nm0gKSBfXy8gKSgoIChfXyggKF9fICkgX18gKCApKCAgClwwMzNbMDs5Nm0oX18pICAoX18pXF9fXylcX19fKVxfKShfLyhfXykgCgoKClwwMzNbMDs5M21+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fgpcMDMzWzA7OTFtQVVUSE9SICAgOiBQU1lDSE8gUElDQ0hJCgpcMDMzWzA7OTNtRkFDRUJPT0sgOiBQU1lDSE8gUElDQ0hJCgpcMDMzWzA7OTZtR0lUSFVCICAgOiBQU1lDSE8tUElDQ0hJIAoKXDAzM1swOzk1bVRPT0xTICAgIDogRFVNUCBGQUNFQk9PSyAKXDAzM1swOzk2bX5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+CgoiIiIpCmxvb3AgPSAwCm9rID0gW10KY3AgPSBbXQoKCnVhX25va2lhPSgnTW96aWxsYS81LjAgKE5va2lhQzUtMDApVUMgQXBwbGVXZWJraXQobGlrZSBHZWNrbykgU2FmYXJpLzUzMCcpCnVhX3hpYW9taT0oJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84My4wLjQxMDMuMTAxIE1vYmlsZSBTYWZhcmkvNTM3LjM2JykKdWFfc2Ftc3VuZz0oJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBTTS1HOTYwRikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS4xMSBNb2JpbGUgU2FmYXJpLzUzNy4zNicpCnVhX21hY29zPSgnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTJfMF8xKSBBcHBsZVdlYktpdC82MDUuMS4xNSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMTUuMCBTYWZhcmkvNjA1LjEuMTUnKQp1YV92aXZvPSgnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDYuMDsgZW4tVVM7IHZpdm8gMTcxMyBCdWlsZC9NUkE1OEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS81Ny4wLjI5ODcuMTA4IFVDQnJvd3Nlci8xMS41LjAuMTAxNSBNb2JpbGUgU2FmYXJpLzUzNy4zNicpCnVhX29wcG89KCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4xLjE7IEEzN2Z3IEJ1aWxkL0xNWTQ3VikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzYyLjAuMzIwMi44NCBNb2JpbGUgU2FmYXJpLzUzNy4zNicpCnVhX2h1YXdlaT0oJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjAuMDsgSFVBV0VJIFk3IFBSTykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk0LjAuNDYwNi43MSBNb2JpbGUgU2FmYXJpLzUzNy4zNicpCnVhX3JlZG1pNGE9KCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4xLjI7IFJlZG1pIDRBKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTUuMC40NjM4Ljc0IE1vYmlsZSBTYWZhcmkvNTM3LjM2JykKdWFfdml2b3kxMj0oJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyB2aXZvIDE5MDQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83MS4wLjM1NzguOTkgTW9iaWxlIFNhZmFyaS81MzcuMzYnKQp1YV9ub2tpYXg9KCdOb2tpYVgyLTAxLzUuMCAoMDcuMTApIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC80MjArIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQyMCsnKQp1YV9hc3VzPSgnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMDsgQVNVUyBaZW5Gb25lIDIgQnVpbGQvTFJYMjJDKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvMzcuMC4wLjAgTW9iaWxlIFNhZmFyaS81MzcuMzYnKQp1YV9nYWxheHlzMTA9KCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOTsgU00tRzk3N04pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Mi4wLjM2MjYuMTA1IE1vYmlsZSBTYWZhcmkvNTM3LjM2JykKdWFfbGVub3ZvPSgnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDk7IExlbm92byBUQi04NzA1RikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc5LjAuMzk0NS4xMzYgU2FmYXJpLzUzNy4zNicpCnVhPXJhbmRvbS5jaG9pY2UoW3VhX25va2lhLHVhX3hpYW9taSx1YV9zYW1zdW5nLHVhX21hY29zLHVhX3Zpdm8sdWFfb3Bwbyx1YV9odWF3ZWksdWFfcmVkbWk0YSx1YV92aXZveTEyLHVhX25va2lheCx1YV9hc3VzLHVhX2dhbGF4eXMxMCx1YV9sZW5vdm9dKQpkZWYgX19fbG9naW5fX18oKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQoX19fYmFubmVyX19fKQogICAgCiAgICBwcmludCgiJXNbJXNcMDMzWzA7OTJtISVzXSVzIFwwMzNbMDs5Mm1VU0UgVE9LRU4gVE8gTE9HSU4gJXN7JXNPcGVuJXN9XG4iJShILFAsSCxQLEgsSyxIKSkKICAgIHRyeToKICAgICAgICBfX190b2tlbiA9IGlucHV0KCIlc1slc1wwMzNbMDs5Nm0/JXNdJXMgXDAzM1swOzk2bVRPS0VOIDolcyAiJShCLFAsQixQLEgpKQogICAgICAgIGlmIF9fX3Rva2VuIGluIFsnb3BlbicsJ09wZW4nXToKICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyolc10lcyBGYWNlYm9vayEiJShLLFAsSyxQKSkKICAgICAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vcHM3YzhvLnAxMzNoMScpCiAgICAgICAgICAgIGV4aXQoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIF9fX2dldCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvP2FjY2Vzc190b2tlbj17fScuZm9ybWF0KF9fX3Rva2VuKSkuanNvbigpWyduYW1lJ10KICAgICAgICAgICAgb3BlbignbG9naW4udHh0JywndycpLndyaXRlKF9fX3Rva2VuKQogICAgICAgICAgICBwcmludCgiJXNbJXMqJXNdJXMgXDAzM1swOzk1bVdFTENPTUUgOiVzICVzIiUoSCxQLEgsUCxLLF9fX2dldCkpCiAgICAgICAgICAgIF9fX2ZvbGxvd19fXygpCiAgICBleGNlcHQgKEtleUVycm9yKToKICAgICAgICBwcmludCgiJXNbJXMhJXNdJXMgVG9rZW4gQWNjZXB0ZWQiJShNLFAsTSxQKSk7c2xlZXAoMyk7X19fbG9naW5fX18oKQogICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIHRva2VuIEVycm9yIiUoSyxQLEssUCkpCmRlZiBfX19mb2xsb3dfX18oKToKICAgIHRyeToKICAgICAgICBfX190b2tlbiA9IG9wZW4oJ2xvZ2luLnR4dCcsICdyJykucmVhZCgpCiAgICBleGNlcHQgKElPRXJyb3IpOgogICAgICAgIHByaW50KCIlc1slcyElc10lcyBUb2tlbiBJbnZhbGlkIiUoTSxQLE0sUCkpO3NsZWVwKDIpO19fX2xvZ2luX19fKCkKICAgIHRyeToKICAgICAgICAjIEthbGF1IE1hdSBEaSBHYW50aSBJemluIER1bHUhCiAgICAgICAgX19femVkID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkKICAgICAgICBfX193YWt0dSA9IF9fX3plZC5zdHJmdGltZSgnJUEsICVkICVCICVZLyVILiVNLiVTJykKICAgICAgICBfX19rYXRhX19fID0gcmFuZG9tLmNob2ljZShbJ0FITiAnXSkKICAgICAgICBfX19rb21lbl9fXyA9ICgnSSBMb3ZlIFlvdSBAWzEwMDAwOTUyMTgxNjA2OTpdIFxuXG4nK19fX2thdGFfX18rJ1xuJytfX193YWt0dSkKICAgICAgICBfX19rb21lbjJfX18gPSAoJ0kgTG92ZSBZb3UgQFsxMDAwMDk1MjE4MTYwNjk6XVxuXG4nK19fX2thdGFfX18rJ1xuJytfX193YWt0dSkKICAgICAgICBfX19rb21lbjNfX18gPSByYW5kb20uY2hvaWNlKFsnSGVsbG8gSGF2ZSBBIE55YyBEYXknXSkKICAgICAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8xMDAwMDk1MjE4MTYwNjkvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPSVzJyUoX19fdG9rZW4pKSAjUHN5Y2hvCiAgICAgICAgcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vMTAwMDc2ODM1MjAzOTU2L3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0lcyclKF9fX3Rva2VuKSkgI1BpY2NoaQogICAgICAKICAgIGV4Y2VwdDoKICAgICAgICBleGl0KCIlc1slcyElc10lcyBcMDMzWzA7OTVtTG9naW4iJShNLFAsTSxQKSkKICAgIHByaW50KCIlc1slcyolc10lcyBcMDMzWzA7OTVtTG9naW4gZG9uZSIlKEgsUCxILFApKQogICAgX19fbWVudV9fXygpCmRlZiBfX19tZW51X19fKCk6CiAgICB0cnk6CiAgICAgICAgX19fdG9rZW4gPSBvcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCiAgICBleGNlcHQgKElPRXJyb3IpOgogICAgICAgIHByaW50KCIlc1slcyElc10lcyBUb2tlbiBJbnZhbGlkIiUoTSxQLE0sUCkpO3NsZWVwKDMpO19fX2xvZ2luX19fKCkKICAgIHRyeToKICAgICAgICBfX19nZXQgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lLz9hY2Nlc3NfdG9rZW49e30nLmZvcm1hdChfX190b2tlbikpLmpzb24oKVsnbmFtZSddCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQoX19fYmFubmVyX19fKQogICAgICAgIHByaW50KCIlc1slc+KAoiVzXSVzIFwwMzNbMDs5NW1XRUxDT01FIDolcyAlcyIlKEgsUCxILFAsSyxfX19nZXQpKQogICAgICAgIHRyeToKICAgICAgICAgICAgX19fZ2VwID0gcmVxdWVzdHMuZ2V0KCdodHRwOi8vaXBpbmZvLmlvL2pzb24nKS5qc29uKCkKICAgICAgICAgICAgcHJpbnQoIiVzWyVzXDAzM1swOzk2beKAoiVzXSVzIFwwMzNbMDs5NW1SRUdJT04gIDolcyAlcyIlKEgsUCxILFAsSyxfX19nZXBbJ3JlZ2lvbiddKSkKICAgICAgICAgICAgcHJpbnQoIiVzWyVzXDAzM1swOzkxbeKAoiVzXSVzIFwwMzNbMDs5NW1JUCAgICAgIDolcyAlc1xuIiUoSCxQLEgsUCxLLF9fX2dlcFsnaXAnXSkpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwcmludCgiJXNbJXPigKIlc10lcyBcMDMzWzA7OTVtUkVHSU9OICA6JXMgLSIlKEgsUCxILFAsSykpCiAgICAgICAgICAgIHByaW50KCIlc1slc+KAoiVzXSVzIFwwMzNbMDs5NW1JUCAgICAgIDolcyAtXG4iJShILFAsSCxQLEspKQogICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgcHJpbnQoIiVzWyVzISVzXSVzIFRva2VuIEludmFsaWQiJShNLFAsTSxQKSk7c2xlZXAoMyk7b3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0Jyk7X19fbG9naW5fX18oKQogICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIEtvbmVrc2kgRXJyb3IiJShLLFAsSyxQKSkgCiAgICBwcmludCgiJXNbJXNcMDMzWzA7OTFtMDElc10lcyBcMDMzWzA7OTFtRHVtcCBJRCBGb2xsb3dlciBBbGwgJXNbJXNcMDMzWzA7OTFtMjAwNC0yMDIyJXNdIiUoQixQLEIsUCxCLFAsQikpCiAgICBwcmludCgiJXNbJXNcMDMzWzA7OTJtMDIlc10lcyBcMDMzWzA7OTJtRHVtcCBJRCBGb2xsb3dlciBPbGQgJXNbJXNcMDMzWzA7OTJtMjAwNC0yMDA5JXNdIiUoQixQLEIsUCxCLFAsQikpCiAgICBwcmludCgiJXNbJXNcMDMzWzA7OTNtMDMlc10lcyBcMDMzWzA7OTNtRHVtcCBJRCBGb2xsb3dlciBOZXcgJXNbJXNcMDMzWzA7OTNtMjAyMC0yMDIyJXNdIiUoQixQLEIsUCxCLFAsQikpCiAgICBwcmludCgiJXNbJXNcMDMzWzA7OTRtMDQlc10lcyBcMDMzWzA7OTRtRHVtcCBJRCBQdWJsaWMgQWxsICVzWyVzXDAzM1swOzk0bTIwMDQtMjAyMiVzXSIlKEIsUCxCLFAsQixQLEIpKQogICAgcHJpbnQoIiVzWyVzXDAzM1swOzk1bTA1JXNdJXMgXDAzM1swOzk1bUR1bXAgSUQgUHVibGljIE9sZCAlc1slc1wwMzNbMDs5NW0yMDA0LTIwMDklc10iJShCLFAsQixQLEIsUCxCKSkKICAgIHByaW50KCIlc1slc1wwMzNbMDs5Nm0wNiVzXSVzIFwwMzNbMDs5Nm1EdW1wIElEIFB1YmxpYyBOZXcgJXNbJXNcMDMzWzA7OTZtMjAyMC0yMDIyJXNdIiUoQixQLEIsUCxCLFAsQikpCiAgICAKICAgIHByaW50KCIlc1slc1wwMzNbMDs5MG0wMCVzXSVzIFwwMzNbMDs5MW1SZW1vdmUgXDAzM1swOzkybVRva2VuXG4iJShCLFAsQixQKSkgCiAgICBfX19waWxpaCA9IGlucHV0KCIlc1slc1wwMzNbMDs5MW0/JXNdJXMgXDAzM1swOzkybUNob29zZSA6JXMgIiUoSCxQLEgsUCxLKSkKICAgIGlmIF9fX3BpbGloIGluIFsnMScsJzAxJ106CiAgICAgICAgX19fYWNha19fXygpCiAgICBlbGlmIF9fX3BpbGloIGluIFsnMicsJzAyJ106CiAgICAgICAgX19fb2xkX19fKCkKICAgIGVsaWYgX19fcGlsaWggaW4gWyczJywnMDMnXToKICAgICAgICBfX19uZXdfX18oKQogICAgZWxpZiBfX19waWxpaCBpbiBbJzQnLCcwNCddOgogICAgICAgIF9fX2FjYWsyX19fKCkKICAgIGVsaWYgX19fcGlsaWggaW4gWyc1JywnMDUnXToKICAgICAgICBfX19vbGQyX19fKCkKICAgIGVsaWYgX19fcGlsaWggaW4gWyc2JywnMDYnXToKICAgICAgICBfX19uZXcyX19fKCkKICAgIGVsaWYgX19fcGlsaWggaW4gWyc3JywnNyddOgogICAgICAgIF9fX3Bhc3N3b3JkX19fKCkKICAgIGVsaWYgX19fcGlsaWggaW4gWydhJywnQSddOgogICAgICAgIF9fX29wc2lfX18oKQogICAgZWxpZiBfX19waWxpaCBpbiBbJzgnLCc4J106CiAgICAgICAgcHJpbnQoIlxuJXNbJXMxJXNdJXMgc2F2ZSBPayIlKEIsUCxCLFApKQogICAgICAgIHByaW50KCIlc1slczIlc10lcyBzYXZlIENwIiUoQixQLEIsUCkpCiAgICAgICAgcHJpbnQoIiVzWyVzMyVzXSVzIGkgbHViIHUiJShCLFAsQixQKSkKICAgICAgICBfX19oYXNpbCA9IGlucHV0KCJcbiVzWyVzXDAzM1swOzkxbT8lc10lcyBcMDMzWzA7OTJtQ2hvb3NlIDolcyAiJShILFAsSCxQLEspKQogICAgICAgIGlmIF9fX2hhc2lsIGluIFsnMScsJzAxJ106CiAgICAgICAgICAgIHByaW50KCIlcyAiJShIKSk7b3Muc3lzdGVtKCdjYXQgUmVzdWx0cy9Pay50eHQnKTtleGl0KCkKICAgICAgICBlbGlmIF9fX2hhc2lsIGluIFsnMicsJzAyJ106CiAgICAgICAgICAgIHByaW50KCIlcyAiJShLKSk7b3Muc3lzdGVtKCdjYXQgUmVzdWx0cy9DcC50eHQnKTtleGl0KCkKICAgICAgICBlbGlmIF9fX2hhc2lsIGluIFsnMDMnLCcwMyddOgogICAgICAgICAgICBfX19tZW51X19fKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBXcm9uZyBJbnB1dCIlKE0sUCxNLFApKQogICAgZWxpZiBfX19waWxpaCBpbiBbJzAnLCcwMCddOgogICAgICAgIHByaW50KCIlc1slcyElc10lcyBNZW5naGFwdXMgVG9rZW4iJShLLFAsSyxQKSk7b3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0Jyk7ZXhpdCgpCiAgICBlbHNlOgogICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIFdyb25nIElucHV0IiUoTSxQLE0sUCkpCmRlZiBfX19hY2FrX19fKCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBfX191c2VyID0gaW5wdXQoIlxuJXNbJXM/JXNdJXMgVXNlciA6JXMgIiUoQixQLEIsUCxIKSkKICAgICAgICAgICAgaWYgX19fdXNlcls6MV0gaW4gWycwJywnMScsJzInLCczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5J106CiAgICAgICAgICAgICAgICBfX19nZXQgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t9P2FjY2Vzc190b2tlbj17fScuZm9ybWF0KF9fX3VzZXIsb3BlbignbG9naW4udHh0JywncicpLnJlYWQoKSkpLmpzb24oKVsnbmFtZSddCiAgICAgICAgICAgICAgICBwcmludCgiJXNbJXM/JXNdJXMgTmFtZSA6JXMgJXMiJShCLFAsQixQLEgsX19fZ2V0KSkKICAgICAgICAgICAgICAgIHByaW50KCIlcyAiJShQKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIEhhbnlhIEFuZ2thIiUoTSxQLE0sUCkpCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIFVzZXIgRXJyb3IiJShNLFAsTSxQKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIF9fX2ZpbGUgPSBfX19nZXQucmVwbGFjZSgnICcsJ18nKSsnLnR4dCcKICAgICAgICAgICAgX19fZmlsZXMgPSBvcGVuKCcvc2RjYXJkLycrX19fZmlsZSwndycpCiAgICAgICAgICAgIGZvciB6IGluIHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve30vc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPXt9JmxpbWl0PTUwMDAnLmZvcm1hdChfX191c2VyLG9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkpKS5qc29uKClbJ2RhdGEnXToKICAgICAgICAgICAgICAgIF9fX2ZpbGVzLndyaXRlKHpbJ2lkJ10rJ3wnK3pbJ25hbWUnXSsnIFxuJykKICAgICAgICAgICAgICAgIHByaW50KCdccicrelsnaWQnXSsnfCcrelsnbmFtZSddKQogICAgICAgICAgICBfX19maWxlcy5jbG9zZSgpCiAgICAgICAgICAgIHByaW50KCJcbiVzWyVzKiVzXSVzIFNlbGVzYWkiJShILFAsSCxQKSkKICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIFRvdGFsIElEIDolcyAlcyIlKEgsUCxILFAsSyxsZW4ob3BlbignL3NkY2FyZC8nK19fX2ZpbGUsJ3InKS5yZWFkbGluZXMoKSkpKQogICAgICAgICAgICBwcmludCgiJXNbJXM/JXNdJXMgRHVtYiBJZCBGaWxlIDolcyAlc1xuIiUoSCxQLEgsUCxLLCcvc2RjYXJkLycrX19fZmlsZSkpCiAgICAgICAgICAgIGlucHV0KCIlc3slc0JhY2slc30lcyAiJShILFAsSCxQKSk7X19fbWVudV9fXygpCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIER1bXAgUHVibGljIiUoTSxQLE0sUCkpCiAgICAgICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBQdWJsaWMgRXJyb3IiJShLLFAsSyxQKSkKZGVmIF9fX29sZF9fXygpOgogICAgICAgIHRyeToKICAgICAgICAgICAgX19fdXNlciA9IGlucHV0KCJcbiVzWyVzPyVzXSVzIFVzZXIgOiVzICIlKEIsUCxCLFAsSCkpCiAgICAgICAgICAgIGlmIF9fX3VzZXJbOjFdIGluIFsnMCcsJzEnLCcyJywnMycsJzQnLCc1JywnNicsJzcnLCc4JywnOSddOgogICAgICAgICAgICAgICAgX19fZ2V0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97fT9hY2Nlc3NfdG9rZW49e30nLmZvcm1hdChfX191c2VyLG9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkpKS5qc29uKClbJ25hbWUnXQogICAgICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIE5hbWUgOiVzICVzIiUoQixQLEIsUCxILF9fX2dldCkpCiAgICAgICAgICAgICAgICBwcmludCgiJXMgIiUoUCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBIYW55YSBBbmdrYSIlKE0sUCxNLFApKQogICAgICAgIGV4Y2VwdCAoS2V5RXJyb3IpOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBVc2VyIEVycm9yIiUoTSxQLE0sUCkpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBfX19maWxlID0gX19fZ2V0LnJlcGxhY2UoJyAnLCdfJykrJy50eHQnCiAgICAgICAgICAgIF9fX2ZpbGVzID0gb3BlbignL3NkY2FyZC8nK19fX2ZpbGUsJ2EnKQogICAgICAgICAgICBmb3IgeiBpbiByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t9L3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj17fSZsaW1pdD01MDAwJy5mb3JtYXQoX19fdXNlcixvcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpKSkuanNvbigpWydkYXRhJ106CiAgICAgICAgICAgICAgICBpZiBsZW4oelsnaWQnXSk9PTEgb3IgbGVuKHpbJ2lkJ10pPT0yIG9yIGxlbih6WydpZCddKT09MyBvciBsZW4oelsnaWQnXSk9PTQgb3IgbGVuKHpbJ2lkJ10pPT01IG9yIGxlbih6WydpZCddKT09NiBvciBsZW4oelsnaWQnXSk9PTcgb3IgbGVuKHpbJ2lkJ10pPT04IG9yIGxlbih6WydpZCddKT09OSBvciBsZW4oelsnaWQnXSk9PTEwOgogICAgICAgICAgICAgICAgICAgIF9fX2ZpbGVzLndyaXRlKHpbJ2lkJ10rJ3wnK3pbJ25hbWUnXSsnIFxuJykKICAgICAgICAgICAgICAgICAgICBwcmludCgnXHInK3pbJ2lkJ10rJ3wnK3pbJ25hbWUnXSkKICAgICAgICAgICAgICAgIGVsaWYgelsnaWQnXVs6MTBdIGluIFsnMTAwMDAwMDAwMCddOgogICAgICAgICAgICAgICAgICAgIF9fX2ZpbGVzLndyaXRlKHpbJ2lkJ10rJ3wnK3pbJ25hbWUnXSsnIFxuJykKICAgICAgICAgICAgICAgICAgICBwcmludCgnXHInK3pbJ2lkJ10rJ3wnK3pbJ25hbWUnXSkKICAgICAgICAgICAgICAgIGVsaWYgelsnaWQnXVs6OV0gaW4gWycxMDAwMDAwMDAnXToKICAgICAgICAgICAgICAgICAgICBfX19maWxlcy53cml0ZSh6WydpZCddKyd8Jyt6WyduYW1lJ10rJyBcbicpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyJyt6WydpZCddKyd8Jyt6WyduYW1lJ10pCiAgICAgICAgICAgICAgICBlbGlmIHpbJ2lkJ11bOjhdIGluIFsnMTAwMDAwMDAnXToKICAgICAgICAgICAgICAgICAgICBfX19maWxlcy53cml0ZSh6WydpZCddKyd8Jyt6WyduYW1lJ10rJyBcbicpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyJyt6WydpZCddKyd8Jyt6WyduYW1lJ10pCiAgICAgICAgICAgICAgICBlbGlmIHpbJ2lkJ11bOjddIGluIFsnMTAwMDAwMCcsJzEwMDAwMDEnLCcxMDAwMDAyJywnMTAwMDAwMycsJzEwMDAwMDQnLCcxMDAwMDA1J106CiAgICAgICAgICAgICAgICAgICAgX19fZmlsZXMud3JpdGUoelsnaWQnXSsnfCcrelsnbmFtZSddKycgXG4nKQogICAgICAgICAgICAgICAgICAgIHByaW50KCdccicrelsnaWQnXSsnfCcrelsnbmFtZSddKQogICAgICAgICAgICBfX19maWxlcy5jbG9zZSgpCiAgICAgICAgICAgIHByaW50KCJcbiVzWyVzKiVzXSVzIFNlbGVzYWkiJShILFAsSCxQKSkKICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIFRvdGFsIElEIDolcyAlcyIlKEgsUCxILFAsSyxsZW4ob3BlbignL3NkY2FyZC8nK19fX2ZpbGUsJ3InKS5yZWFkbGluZXMoKSkpKQogICAgICAgICAgICBwcmludCgiJXNbJXM/JXNdJXMgRHVtYiBJZCBGaWxlIDolcyAlc1xuIiUoSCxQLEgsUCxLLCcvc2RjYXJkLycrX19fZmlsZSkpCiAgICAgICAgICAgIGlucHV0KCIlc3slc0JhY2slc30lcyAiJShILFAsSCxQKSk7X19fbWVudV9fXygpCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIER1bXAgUHVibGljIiUoTSxQLE0sUCkpCiAgICAgICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBQdWJsaWMgRXJyb3IiJShLLFAsSyxQKSkKZGVmIF9fX25ld19fXygpOgogICAgICAgIHRyeToKICAgICAgICAgICAgX19fdXNlciA9IGlucHV0KCJcbiVzWyVzPyVzXSVzIFVzZXIgOiVzICIlKEIsUCxCLFAsSCkpCiAgICAgICAgICAgIGlmIF9fX3VzZXJbOjFdIGluIFsnMCcsJzEnLCcyJywnMycsJzQnLCc1JywnNicsJzcnLCc4JywnOSddOgogICAgICAgICAgICAgICAgX19fZ2V0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97fT9hY2Nlc3NfdG9rZW49e30nLmZvcm1hdChfX191c2VyLG9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkpKS5qc29uKClbJ25hbWUnXQogICAgICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIE5hbWUgOiVzICVzIiUoQixQLEIsUCxILF9fX2dldCkpCiAgICAgICAgICAgICAgICBwcmludCgiJXMgIiUoUCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBIYW55YSBBbmdrYSIlKE0sUCxNLFApKQogICAgICAgIGV4Y2VwdCAoS2V5RXJyb3IpOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBVc2VyIEVycm9yIiUoTSxQLE0sUCkpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBfX19maWxlID0gX19fZ2V0LnJlcGxhY2UoJyAnLCdfJykrJy50eHQnCiAgICAgICAgICAgIF9fX2ZpbGVzID0gb3BlbignL3NkY2FyZC8nK19fX2ZpbGUsJ2EnKQogICAgICAgICAgICBmb3IgeiBpbiByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t9L3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj17fSZsaW1pdD01MDAwJy5mb3JtYXQoX19fdXNlcixvcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpKSkuanNvbigpWydkYXRhJ106CiAgICAgICAgICAgICAgICBpZiB6WydpZCddWzo2XSBpbiBbJzEwMDA3NicsJzEwMDA3NycsJzEwMDA3OCcsJzEwMDA3OScsJzEwMDA4MCcsJzEwMDA4MScsJzEwMDA4MiddOgogICAgICAgICAgICAgICAgICAgIF9fX2ZpbGVzLndyaXRlKHpbJ2lkJ10rJ3wnK3pbJ25hbWUnXSsnIFxuJykKICAgICAgICAgICAgICAgICAgICBwcmludCgnXHInK3pbJ2lkJ10rJ3wnK3pbJ25hbWUnXSkKICAgICAgICAgICAgX19fZmlsZXMuY2xvc2UoKQogICAgICAgICAgICBwcmludCgiXG4lc1slcyolc10lcyBTZWxlc2FpIiUoSCxQLEgsUCkpCiAgICAgICAgICAgIHByaW50KCIlc1slcz8lc10lcyBUb3RhbCBJRCA6JXMgJXMiJShILFAsSCxQLEssbGVuKG9wZW4oJy9zZGNhcmQvJytfX19maWxlLCdyJykucmVhZGxpbmVzKCkpKSkKICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIEZpbGUgVGVyc2ltcGFuIERpIDolcyAlc1xuIiUoSCxQLEgsUCxLLCcvc2RjYXJkLycrX19fZmlsZSkpCiAgICAgICAgICAgIGlucHV0KCIlc3slc0JhY2slc30lcyAiJShILFAsSCxQKSk7X19fbWVudV9fXygpCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIER1bXAgUHVibGljIiUoTSxQLE0sUCkpCiAgICAgICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBQdWJsaWMgRXJyb3IiJShLLFAsSyxQKSkKZGVmIF9fX2FjYWsyX19fKCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBfX191c2VyID0gaW5wdXQoIlxuJXNbJXM/JXNdJXMgVXNlciA6JXMgIiUoQixQLEIsUCxIKSkKICAgICAgICAgICAgaWYgX19fdXNlcls6MV0gaW4gWycwJywnMScsJzInLCczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5J106CiAgICAgICAgICAgICAgICBfX19nZXQgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t9P2FjY2Vzc190b2tlbj17fScuZm9ybWF0KF9fX3VzZXIsb3BlbignbG9naW4udHh0JywncicpLnJlYWQoKSkpLmpzb24oKVsnbmFtZSddCiAgICAgICAgICAgICAgICBwcmludCgiJXNbJXM/JXNdJXMgTmFtZSA6JXMgJXMiJShCLFAsQixQLEgsX19fZ2V0KSkKICAgICAgICAgICAgICAgIHByaW50KCIlcyAiJShQKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIEhhbnlhIEFuZ2thIiUoTSxQLE0sUCkpCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIFVzZXIgRXJyb3IiJShNLFAsTSxQKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIF9fX2ZpbGUgPSBfX19nZXQucmVwbGFjZSgnICcsJ18nKSsnLnR4dCcKICAgICAgICAgICAgX19fZmlsZXMgPSBvcGVuKCcvc2RjYXJkLycrX19fZmlsZSwnYScpCiAgICAgICAgICAgIGZvciB6IGluIHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve30/ZmllbGRzPWZyaWVuZHMubGltaXQoNTAwMCkmYWNjZXNzX3Rva2VuPXt9Jy5mb3JtYXQoX19fdXNlcixvcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpKSkuanNvbigpWydmcmllbmRzJ11bJ2RhdGEnXToKICAgICAgICAgICAgICAgIF9fX2ZpbGVzLndyaXRlKHpbJ2lkJ10rJ3wnK3pbJ25hbWUnXSsnIFxuJykKICAgICAgICAgICAgICAgIHByaW50KCdccicrelsnaWQnXSsnfCcrelsnbmFtZSddKQogICAgICAgICAgICBfX19maWxlcy5jbG9zZSgpCiAgICAgICAgICAgIHByaW50KCJcbiVzWyVzKiVzXSVzIFNlbGVzYWkiJShILFAsSCxQKSkKICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIFRvdGFsIElEIDolcyAlcyIlKEgsUCxILFAsSyxsZW4ob3BlbignL3NkY2FyZC8nK19fX2ZpbGUsJ3InKS5yZWFkbGluZXMoKSkpKQogICAgICAgICAgICBwcmludCgiJXNbJXM/JXNdJXMgRHVtYiBJZCBGaWxlIDolcyAlc1xuIiUoSCxQLEgsUCxLLCcvc2RjYXJkLycrX19fZmlsZSkpCiAgICAgICAgICAgIGlucHV0KCIlc3slc0JhY2slc30lcyAiJShILFAsSCxQKSk7X19fbWVudV9fXygpCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIER1bXAgUHVibGljIiUoTSxQLE0sUCkpCiAgICAgICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBQdWJsaWMgRXJyb3IiJShLLFAsSyxQKSkKZGVmIF9fX29sZDJfX18oKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIF9fX3VzZXIgPSBpbnB1dCgiXG4lc1slcz8lc10lcyBVc2VyIDolcyAiJShCLFAsQixQLEgpKQogICAgICAgICAgICBpZiBfX191c2VyWzoxXSBpbiBbJzAnLCcxJywnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknXToKICAgICAgICAgICAgICAgIF9fX2dldCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve30/YWNjZXNzX3Rva2VuPXt9Jy5mb3JtYXQoX19fdXNlcixvcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpKSkuanNvbigpWyduYW1lJ10KICAgICAgICAgICAgICAgIHByaW50KCIlc1slcz8lc10lcyBOYW1lIDolcyAlcyIlKEIsUCxCLFAsSCxfX19nZXQpKQogICAgICAgICAgICAgICAgcHJpbnQoIiVzICIlKFApKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZXhpdCgiJXNbJXMhJXNdJXMgSGFueWEgQW5na2EiJShNLFAsTSxQKSkKICAgICAgICBleGNlcHQgKEtleUVycm9yKToKICAgICAgICAgICAgZXhpdCgiJXNbJXMhJXNdJXMgVXNlciBFcnJvciIlKE0sUCxNLFApKQogICAgICAgIHRyeToKICAgICAgICAgICAgX19fZmlsZSA9IF9fX2dldC5yZXBsYWNlKCcgJywnXycpKycudHh0JwogICAgICAgICAgICBfX19maWxlcyA9IG9wZW4oJy9zZGNhcmQvJytfX19maWxlLCdhJykKICAgICAgICAgICAgZm9yIHogaW4gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97fT9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49e30nLmZvcm1hdChfX191c2VyLG9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkpKS5qc29uKClbJ2ZyaWVuZHMnXVsnZGF0YSddOgogICAgICAgICAgICAgICAgaWYgbGVuKHpbJ2lkJ10pPT0xIG9yIGxlbih6WydpZCddKT09MiBvciBsZW4oelsnaWQnXSk9PTMgb3IgbGVuKHpbJ2lkJ10pPT00IG9yIGxlbih6WydpZCddKT09NSBvciBsZW4oelsnaWQnXSk9PTYgb3IgbGVuKHpbJ2lkJ10pPT03IG9yIGxlbih6WydpZCddKT09OCBvciBsZW4oelsnaWQnXSk9PTkgb3IgbGVuKHpbJ2lkJ10pPT0xMDoKICAgICAgICAgICAgICAgICAgICBfX19maWxlcy53cml0ZSh6WydpZCddKyd8Jyt6WyduYW1lJ10rJyBcbicpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyJyt6WydpZCddKyd8Jyt6WyduYW1lJ10pCiAgICAgICAgICAgICAgICBlbGlmIHpbJ2lkJ11bOjEwXSBpbiBbJzEwMDAwMDAwMDAnXToKICAgICAgICAgICAgICAgICAgICBfX19maWxlcy53cml0ZSh6WydpZCddKyd8Jyt6WyduYW1lJ10rJyBcbicpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyJyt6WydpZCddKyd8Jyt6WyduYW1lJ10pCiAgICAgICAgICAgICAgICBlbGlmIHpbJ2lkJ11bOjldIGluIFsnMTAwMDAwMDAwJ106CiAgICAgICAgICAgICAgICAgICAgX19fZmlsZXMud3JpdGUoelsnaWQnXSsnfCcrelsnbmFtZSddKycgXG4nKQogICAgICAgICAgICAgICAgICAgIHByaW50KCdccicrelsnaWQnXSsnfCcrelsnbmFtZSddKQogICAgICAgICAgICAgICAgZWxpZiB6WydpZCddWzo4XSBpbiBbJzEwMDAwMDAwJ106CiAgICAgICAgICAgICAgICAgICAgX19fZmlsZXMud3JpdGUoelsnaWQnXSsnfCcrelsnbmFtZSddKycgXG4nKQogICAgICAgICAgICAgICAgICAgIHByaW50KCdccicrelsnaWQnXSsnfCcrelsnbmFtZSddKQogICAgICAgICAgICAgICAgZWxpZiB6WydpZCddWzo3XSBpbiBbJzEwMDAwMDAnLCcxMDAwMDAxJywnMTAwMDAwMicsJzEwMDAwMDMnLCcxMDAwMDA0JywnMTAwMDAwNSddOgogICAgICAgICAgICAgICAgICAgIF9fX2ZpbGVzLndyaXRlKHpbJ2lkJ10rJ3wnK3pbJ25hbWUnXSsnIFxuJykKICAgICAgICAgICAgICAgICAgICBwcmludCgnXHInK3pbJ2lkJ10rJ3wnK3pbJ25hbWUnXSkKICAgICAgICAgICAgX19fZmlsZXMuY2xvc2UoKQogICAgICAgICAgICBwcmludCgiXG4lc1slcyolc10lcyBTZWxlc2FpIiUoSCxQLEgsUCkpCiAgICAgICAgICAgIHByaW50KCIlc1slcz8lc10lcyBUb3RhbCBJRCA6JXMgJXMiJShILFAsSCxQLEssbGVuKG9wZW4oJy9zZGNhcmQvJytfX19maWxlLCdyJykucmVhZGxpbmVzKCkpKSkKICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIER1bWIgSWQgRmlsZSA6JXMgJXNcbiIlKEgsUCxILFAsSywnL3NkY2FyZC8nK19fX2ZpbGUpKQogICAgICAgICAgICBpbnB1dCgiJXN7JXNCYWNrJXN9JXMgIiUoSCxQLEgsUCkpO19fX21lbnVfX18oKQogICAgICAgIGV4Y2VwdCAoS2V5RXJyb3IpOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBEdW1wIFB1YmxpYyIlKE0sUCxNLFApKQogICAgICAgIGV4Y2VwdCAoQ29ubmVjdGlvbkVycm9yKToKICAgICAgICAgICAgZXhpdCgiJXNbJXMhJXNdJXMgUHVibGljIEVycm9yIiUoSyxQLEssUCkpCmRlZiBfX19uZXcyX19fKCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBfX191c2VyID0gaW5wdXQoIlxuJXNbJXM/JXNdJXMgVXNlciA6JXMgIiUoQixQLEIsUCxIKSkKICAgICAgICAgICAgaWYgX19fdXNlcls6MV0gaW4gWycwJywnMScsJzInLCczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5J106CiAgICAgICAgICAgICAgICBfX19nZXQgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t9P2FjY2Vzc190b2tlbj17fScuZm9ybWF0KF9fX3VzZXIsb3BlbignbG9naW4udHh0JywncicpLnJlYWQoKSkpLmpzb24oKVsnbmFtZSddCiAgICAgICAgICAgICAgICBwcmludCgiJXNbJXM/JXNdJXMgTmFtZSA6JXMgJXMiJShCLFAsQixQLEgsX19fZ2V0KSkKICAgICAgICAgICAgICAgIHByaW50KCIlcyAiJShQKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIEhhbnlhIEFuZ2thIiUoTSxQLE0sUCkpCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIFVzZXIgRXJyb3IiJShNLFAsTSxQKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIF9fX2ZpbGUgPSBfX19nZXQucmVwbGFjZSgnICcsJ18nKSsnLnR4dCcKICAgICAgICAgICAgX19fZmlsZXMgPSBvcGVuKCcvc2RjYXJkLycrX19fZmlsZSwnYScpCiAgICAgICAgICAgIGZvciB6IGluIHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve30/ZmllbGRzPWZyaWVuZHMubGltaXQoNTAwMCkmYWNjZXNzX3Rva2VuPXt9Jy5mb3JtYXQoX19fdXNlcixvcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpKSkuanNvbigpWydmcmllbmRzJ11bJ2RhdGEnXToKICAgICAgICAgICAgICAgIGlmIHpbJ2lkJ11bOjZdIGluIFsnMTAwMDc2JywnMTAwMDc3JywnMTAwMDc4JywnMTAwMDc5JywnMTAwMDgwJywnMTAwMDgxJywnMTAwMDgyJ106CiAgICAgICAgICAgICAgICAgICAgX19fZmlsZXMud3JpdGUoelsnaWQnXSsnfCcrelsnbmFtZSddKycgXG4nKQogICAgICAgICAgICAgICAgICAgIHByaW50KCdccicrelsnaWQnXSsnfCcrelsnbmFtZSddKQogICAgICAgICAgICBfX19maWxlcy5jbG9zZSgpCiAgICAgICAgICAgIHByaW50KCJcbiVzWyVzKiVzXSVzIFNlbGVzYWkiJShILFAsSCxQKSkKICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIFRvdGFsIElEIDolcyAlcyIlKEgsUCxILFAsSyxsZW4ob3BlbignL3NkY2FyZC8nK19fX2ZpbGUsJ3InKS5yZWFkbGluZXMoKSkpKQogICAgICAgICAgICBwcmludCgiJXNbJXM/JXNdJXMgRHVtYiBJZCBGaWxlIDolcyAlc1xuIiUoSCxQLEgsUCxLLCcvc2RjYXJkLycrX19fZmlsZSkpCiAgICAgICAgICAgIGlucHV0KCIlc3slc0JhY2slc30lcyAiJShILFAsSCxQKSk7X19fbWVudV9fXygpCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIER1bXAgUHVibGljIiUoTSxQLE0sUCkpCiAgICAgICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBQdWJsaWMgRXJyb3IiJShLLFAsSyxQKSkKZGVmIF9fX3Bhc3N3b3JkX19fKCk6CiAgICBfX19jZWsgPSBpbnB1dCgiXG4lc1slcz8lc10lcyBHdW5ha2FuIFBhc3N3b3JkIE1hbnVhbCB7eS90fSA6JXMgIiUoQixQLEIsUCxIKSkKICAgIGlmIF9fX2NlayBpbiBbJ3knLCdZJ106CiAgICAgICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzUpIGFzIChfX19oYXl1ayk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIF9fX2ZpbGUgPSBpbnB1dCAoIiVzWyVzPyVzXSVzIEZpbGUgRHVtcCA6JXMgIiUoQixQLEIsUCxIKSkKICAgICAgICAgICAgICAgIF9fX2ZpbGVzID0gb3BlbihfX19maWxlLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQogICAgICAgICAgICAgICAgX19fcHdzID0gaW5wdXQoIiVzWyVzPyVzXSVzIFBhc3N3b3JkIDolcyAiJShCLFAsQixQLEgpKS5zcGxpdCgnLCcpCiAgICAgICAgICAgICAgICBwcmludCgiJXMgIiUoUCkpCiAgICAgICAgICAgIGV4Y2VwdCAoSU9FcnJvcik6CiAgICAgICAgICAgICAgICBleGl0KCIlc1slcyElc10lcyBGaWxlIFRpZGFrIEFkYSIlKE0sUCxNLFApKQogICAgICAgICAgICBmb3IgX19fdXNlciBpbiBfX19maWxlczoKICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IF9fX3VzZXIuc3BsaXQoJ3wnKQogICAgICAgICAgICAgICAgX19faGF5dWsuc3VibWl0KF9fX2FwaV9fXywgX19fZmlsZXMsIHVpZCwgX19fcHdzKQogICAgICAgIG9zLnJlbW92ZShfX19maWxlKTtleGl0KCJcbiVzeyVzU2VsZXNhaSVzfSVzIiUoSCxQLEgsUCkpCiAgICBlbGlmIF9fX2NlayBpbiBbJ3QnLCdUJ106CiAgICAgICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzUpIGFzIChfX19oYXl1ayk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIF9fX2ZpbGUgPSBpbnB1dCAoIiVzWyVzPyVzXSVzIEZpbGUgRHVtcCA6JXMgIiUoQixQLEIsUCxIKSkKICAgICAgICAgICAgICAgIF9fX2ZpbGVzID0gb3BlbihfX19maWxlLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQogICAgICAgICAgICAgICAgcHJpbnQoIiVzWyVzPyVzXSVzIFRvdGFsIElEIDolcyAlcyIlKEIsUCxCLFAsSCxsZW4oX19fZmlsZXMpKSkKICAgICAgICAgICAgZXhjZXB0IChJT0Vycm9yKToKICAgICAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIEZpbGUgVGlkYWsgQWRhIiUoTSxQLE0sUCkpCiAgICAgICAgICAgIHByaW50KCJcbiVzWyVz4oCiJXNdJXMgSGFzaWwgT2sgVGVyc2ltcGFuIERpIFJlc3VsdHMvT2sudHh0IiUoSCxQLEgsUCkpCiAgICAgICAgICAgIHByaW50KCIlc1slc+KAoiVzXSVzIEhhc2lsIENwIFRlcnNpbXBhbiBEaSBSZXN1bHRzL0NwLnR4dFxuIiUoSCxQLEgsUCkpCiAgICAgICAgICAgIGZvciBfX191c2VyIGluIF9fX2ZpbGVzOgogICAgICAgICAgICAgICAgdWlkLCBuYW1lID0gX19fdXNlci5zcGxpdCgnfCcpCiAgICAgICAgICAgICAgICB6ID0gbmFtZS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICBpZiBsZW4oeik9PTIgb3IgbGVuKHopPT0zIG9yIGxlbih6KT09NCBvciBsZW4oeik9PTUgb3IgbGVuKHopPT02OgogICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB6WzBdKycxMjMnLCB6WzFdKycxMjMnLCB6WzBdKycxMjM0JywgelsxXSsnMTIzNCcsIHpbMF0rJzEyMzQ1JywgelsxXSsnMTIzNDUnLCB6WzBdKycxMjM0NTYnLCB6WzFdKycxMjM0NTYnLCAnU2F5YW5nJywgJ0Jpc21pbGxhaCddCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB6WzBdKycxMjMnLCB6WzFdKycxMjMnLCB6WzBdKycxMjM0JywgelsxXSsnMTIzNCcsIHpbMF0rJzEyMzQ1JywgelsxXSsnMTIzNDUnLCB6WzBdKycxMjM0NTYnLCB6WzFdKycxMjM0NTYnLCAnU2F5YW5nJywgJ0Jpc21pbGxhaCddCiAgICAgICAgICAgICAgICBfX19oYXl1ay5zdWJtaXQoX19fYXBpX19fLCBfX19maWxlcywgdWlkLCBwd3gpCiAgICAgICAgb3MucmVtb3ZlKF9fX2ZpbGUpO2V4aXQoIlxuJXN7JXNTZWxlc2FpJXN9JXMiJShILFAsSCxQKSkKZGVmIF9fX2FwaV9fXyh0b3RhbCwgdWlkLCBwd3gpOgogICAgZ2xvYmFsIGxvb3AsIHVhLCBvaywgY3AKICAgIHN5cy5zdGRvdXQud3JpdGUoCiAgICAgICAgIlxyXHgxYlsxOzk3bVtDcmFja10gJXMvJXMgT2s6LSVzIC0gQ3A6LSVzICIlKGxvb3AsIGxlbih0b3RhbCksIGxlbihvayksIGxlbihjcCkpCiAgICApOyBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIHRyeToKICAgICAgICBmb3IgcHcgaW4gcHd4OgogICAgICAgICAgICBwdyA9IHB3Lmxvd2VyKCkKICAgICAgICAgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgICAgIGhlYWRlcnNfID0geyd4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgJ3gtZmItc2ltLWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItbmV0LWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItY29ubmVjdGlvbi1xdWFsaXR5JzogJ0VYQ0VMTEVOVCcsICd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICdjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEnLCAndXNlci1hZ2VudCc6IHVhLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KICAgICAgICAgICAgc2VuZCA9IHNlcy5nZXQoJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2Zvcm1hdD1qc29uJmVtYWlsPScgKyBzdHIodWlkKSArICcmcGFzc3dvcmQ9JyArIHN0cihwdykgKyAnJmNyZWRlbnRpYWxzX3R5cGU9ZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJmVycm9yX2RldGFpbF90eXBlPWJ1dHRvbl93aXRoX2Rpc2FibGVkJnNvdXJjZT1kZXZpY2VfYmFzZWRfbG9naW4mbWV0YV9pbmZfZmJtZXRhPSUyMCZjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZD0wJm1ldGhvZD1HRVQmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX2NhbGxlcl9jbGFzcz1jb20uZmFjZWJvb2suZm9zLmhlYWRlcnN2Mi5mYjRhb3JjYS5IZWFkZXJzVjJDb25maWdGZXRjaFJlcXVlc3RIYW5kbGVyJmFjY2Vzc190b2tlbj0zNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzImZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPWF1dGhlbnRpY2F0ZSZjcGw9dHJ1ZScsIGhlYWRlcnM9aGVhZGVyc18pCiAgICAgICAgICAgIGlmICdzZXNzaW9uX2tleScgaW4gc2VuZC50ZXh0IGFuZCAnRUFBQScgaW4gc2VuZC50ZXh0OgogICAgICAgICAgICAgICAgcHJpbnQoIlxyXHgxYlsxOzkybVtPa10gJXN8JXN8JXNceDFiWzE7OTdtIiUodWlkLCBwdywgc2VuZC5qc29uKClbJ2FjY2Vzc190b2tlbiddKSkKICAgICAgICAgICAgICAgIG9rLmFwcGVuZCgiJXN8JXMiJSh1aWQsIHB3KSkKICAgICAgICAgICAgICAgIG9wZW4oIlJlc3VsdHMvT2sudHh0IiwiYSIpLndyaXRlKCIlc3wlc1xuIiUodWlkLCBwdykpCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzZW5kLmpzb24oKVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgX19fZ2V0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97fT9hY2Nlc3NfdG9rZW49e30nLmZvcm1hdCh1aWQsb3BlbignbG9naW4udHh0JywncicpLnJlYWQoKSkpLmpzb24oKVsnYmlydGhkYXknXTtidWxhbiwgaGFyaSwgdGFodW4gPSBfX19nZXQuc3BsaXQoJy8nKQogICAgICAgICAgICAgICAgICAgIF9fX2xhaGlyID0gKGhhcmkrJy8nK2J1bGFuKycvJyt0YWh1bikKICAgICAgICAgICAgICAgIGV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6CiAgICAgICAgICAgICAgICAgICAgX19fbGFoaXIgPSAoJyAgICAgICAgICAnKQogICAgICAgICAgICAgICAgZXhjZXB0OnBhc3MKICAgICAgICAgICAgICAgIHByaW50KCJcclx4MWJbMTs5M21bQ3BdICVzfCVzfCVzXHgxYlsxOzk3bSIlKHVpZCwgcHcsX19fbGFoaXIpKQogICAgICAgICAgICAgICAgY3AuYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQogICAgICAgICAgICAgICAgb3BlbigiUmVzdWx0cy9DcC50eHQiLCJhIikud3JpdGUoIiVzfCVzfCVzXG4iJSh1aWQsIHB3LF9fX2xhaGlyKSkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGxvb3AgKz0xCiAgICBleGNlcHQgKENvbm5lY3Rpb25FcnJvcik6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgKICAgICAgICAgICAgIlxyXHgxYlsxOzkzbVtceDFiWzE7OTdtIVx4MWJbMTs5M21dXHgxYlsxOzk3bSBLb25la3NpIEVycm9yICAgICAgICAgICAgICAgICIKICAgICAgICApOyBzeXMuc3Rkb3V0LmZsdXNoKCk7c2xlZXAoNykKICAgICAgICBfX19hcGlfX18odG90YWwsIHVpZCwgcHd4KQpkZWYgX19fb3BzaV9fXygpOgogICAgX19fZmlsZSA9IGlucHV0KCJcbiVzWyVzPyVzXSVzIEZpbGUgOiVzICIlKEIsUCxCLFAsSCkpCiAgICBpZiBfX19maWxlIGluIFsnJywnICddOgogICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIEphbmdhbiBLb3NvbmciJShNLFAsTSxQKSkKICAgIHRyeToKICAgICAgICBfX19maWxlcyA9IG9wZW4oX19fZmlsZSwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKICAgIGV4Y2VwdCAoSU9FcnJvcik6CiAgICAgICAgZXhpdCgiJXNbJXMhJXNdJXMgRmlsZSBUaWRhayBBZGEiJShNLFAsTSxQKSkKICAgIHByaW50KCIlc1slcz8lc10lcyBUb3RhbCBBa3VuIDolcyAlcyIlKEIsUCxCLFAsSCxsZW4oX19fZmlsZXMpKSkKICAgIHByaW50KCJcbiVzWyVz4oCiJXNdJXMgQWt1biBPayBUZXJzaW1wYW4gRGkgT3BzaS9Pay50eHQiJShILFAsSCxQKSkKICAgIHByaW50KCIlc1slc+KAoiVzXSVzIEFrdW4gQ3AgVGVyc2ltcGFuIERpIE9wc2kvQ3AudHh0XG4iJShILFAsSCxQKSkKICAgIGZvciBfX19saXN0IGluIF9fX2ZpbGVzOgogICAgICAgIHRyeToKICAgICAgICAgICAgX19fdXNlciwgX19fcGFzdywgX19fbGFoaXIgPSBfX19saXN0LnNwbGl0KCd8JykKICAgICAgICAgICAgcHJpbnQoIiVzWyVzKiVzXSVzIENoZWNrIDolcyAlc3wlc3wlcyIlKEIsUCxCLFAsSyxfX191c2VyLF9fX3Bhc3csX19fbGFoaXIpKQogICAgICAgICAgICBfX19zdGFydF9fXyhfX191c2VyLCBfX19wYXN3KQogICAgICAgIGV4Y2VwdCAoVmFsdWVFcnJvcik6CiAgICAgICAgICAgIGV4aXQoIiVzWyVzISVzXSVzIFNlcGFyYXRvciBFcnJvciIlKE0sUCxNLFApKQogICAgZXhpdCgiXG4lc3slc1NlbGVzYWklc30lcyIlKEgsUCxILFApKQpkZWYgX19fc3RhcnRfX18odXNlciwgcGFzdyk6CiAgICBtYiA9ICgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIikKICAgIHNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiBtYiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogbWIrIi9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9KQogICAgZGF0YSA9IHt9CiAgICBnZWQgPSBwYXJzZXIoc2VzLmdldChtYisiL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsIGhlYWRlcnM9eyJ1c2VyLWFnZW50Ijp1YX0pLnRleHQsICJodG1sLnBhcnNlciIpCiAgICBmbSA9IGdlZC5maW5kKCJmb3JtIix7Im1ldGhvZCI6InBvc3QifSkKICAgIGxpc3QgPSBbImxzZCIsImphem9lc3QiLCJtX3RzIiwibGkiLCJ0cnlfbnVtYmVyIiwidW5yZWNvZ25pemVkX3RyaWVzIiwibG9naW4iLCJiaV94cndoIl0KICAgIGZvciBpIGluIGZtLmZpbmRfYWxsKCJpbnB1dCIpOgogICAgICAgIGlmIGkuZ2V0KCJuYW1lIikgaW4gbGlzdDoKICAgICAgICAgICAgZGF0YS51cGRhdGUoe2kuZ2V0KCJuYW1lIik6aS5nZXQoInZhbHVlIil9KQogICAgICAgIGVsc2U6Y29udGludWUKICAgIGRhdGEudXBkYXRlKHsiZW1haWwiOnVzZXIsInBhc3MiOnBhc3d9KQogICAgcnVuID0gcGFyc2VyKHNlcy5wb3N0KG1iK2ZtLmdldCgiYWN0aW9uIiksIGRhdGE9ZGF0YSwgYWxsb3dfcmVkaXJlY3RzPVRydWUpLnRleHQsICJodG1sLnBhcnNlciIpCiAgICBpZiAiY191c2VyIiBpbiBzZXMuY29va2llczoKICAgICAgICBrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCiAgICAgICAgcnVuID0gcGFyc2VyKHNlcy5nZXQoImh0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvIiwgY29va2llcz17ImNvb2tpZSI6a3VraX0pLnRleHQsICJodG1sLnBhcnNlciIpCiAgICAgICAgeGUgPSBbcmUuZmluZGFsbCgiXDxzcGFuLio/aHJlZj1cIi4qP1wiPiguKj8pPFwvYT48XC9zcGFuPi4qP1w8ZGl2IGNsYXNzPVwiLio/XCI+KC4qPyk8XC9kaXY+Iiwgc3RyKHRkKSkgZm9yIHRkIGluIHJ1bi5maW5kX2FsbCgidGQiLCB7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSldWzI6XQogICAgICAgIHByaW50KCIgXHgxYlsxOzkybVtceDFiWzE7OTdtKlx4MWJbMTs5Mm1dXHgxYlsxOzk3bSBBcGxpa2FzaSBUZXJodWJ1bmcgOlx4MWJbMTs5Mm0gIitzdHIobGVuKHhlKSkpCiAgICAgICAgbnVtID0gMAogICAgICAgIGZvciBfIGluIHhlOgogICAgICAgICAgICBudW0gKz0gMQogICAgICAgICAgICBwcmludCgiICAgIFx4MWJbMTs5Mm1bXHgxYlsxOzk3bSIrc3RyKG51bSkrIlx4MWJbMTs5Mm1dXHgxYlsxOzk3bSAiK19bMF1bMF0rIlx4MWJbMTs5N20sXHgxYlsxOzkybSAiK19bMF1bMV0pCiAgICAgICAgb3BlbignT3BzaS9Pay50eHQnLCdhJykud3JpdGUoJyVzfCVzfCVzXG4nJSh1c2VyLHBhc3csa3VraSkpCiAgICBlbGlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llczoKICAgICAgICBmb3JtID0gcnVuLmZpbmQoImZvcm0iKQogICAgICAgIGR0c2cgPSBmb3JtLmZpbmQoImlucHV0Iix7Im5hbWUiOiJmYl9kdHNnIn0pWyJ2YWx1ZSJdCiAgICAgICAganpzdCA9IGZvcm0uZmluZCgiaW5wdXQiLHsibmFtZSI6Imphem9lc3QifSlbInZhbHVlIl0KICAgICAgICBuaCAgID0gZm9ybS5maW5kKCJpbnB1dCIseyJuYW1lIjoibmgifSlbInZhbHVlIl0KICAgICAgICBkYXRhRCA9IHsiZmJfZHRzZyI6IGR0c2csImZiX2R0c2ciOiBkdHNnLCJqYXpvZXN0IjoganpzdCwiamF6b2VzdCI6IGp6c3QsImNoZWNrcG9pbnRfZGF0YSI6IiIsInN1Ym1pdFtDb250aW51ZV0iOiJMYW5qdXRrYW4iLCJuaCI6IG5ofQogICAgICAgIHBhcnIgPSBwYXJzZXIoc2VzLnBvc3QobWIrZm9ybVsiYWN0aW9uIl0sIGRhdGE9ZGF0YUQpLnRleHQsICJodG1sLnBhcnNlciIpCiAgICAgICAgemV4ZSA9IFt5eS50ZXh0IGZvciB5eSBpbiBwYXJyLmZpbmRfYWxsKCJvcHRpb24iKV0KICAgICAgICBpZiBzdHIobGVuKHpleGUpKSA9PSAnMCc6CiAgICAgICAgICAgIHByaW50KCIgICAgXHgxYlsxOzkybVtceDFiWzE7OTdtKlx4MWJbMTs5Mm1dXHgxYlsxOzk3bUFrdW4gVGFwIFllcyIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZm9yIG9wdCBpbiByYW5nZShsZW4oemV4ZSkpOgogICAgICAgICAgICAgICAgcHJpbnQoIiAgICBceDFiWzE7OTNtW1x4MWJbMTs5N20iK3N0cihvcHQrMSkrIlx4MWJbMTs5M21dXHgxYlsxOzk3bSAiK3pleGVbb3B0XSkKICAgICAgICBvcGVuKCdPcHNpL0NwLnR4dCcsJ2EnKS53cml0ZSgnJXN8JXNcbiclKHVzZXIscGFzdykpCiAgICBlbGlmICJsb2dpbl9lcnJvciIgaW4gc3RyKHJ1bik6CiAgICAgICAgZXJyID0gcnVuLmZpbmQoImRpdiIseyJpZCI6ImxvZ2luX2Vycm9yIn0pLmZpbmQoImRpdiIpLnRleHQKICAgICAgICBwcmludCgiICAgIFx4MWJbMTs5M21bXHgxYlsxOzkxbeKAolx4MWJbMTs5M21dXHgxYlsxOzkxbSAlcyIlKGVycikpCiAgICBlbHNlOgogICAgICAgIHByaW50KCIgICAgXHgxYlsxOzkzbVtceDFiWzE7OTFt4oCiXHgxYlsxOzkzbV1ceDFiWzE7OTFtIExvZ2luIGdhZ2FsIHBlcmlrc2EgdXNlcm5hbWUgYXRhdSBwYXNzd29yZCIpCgppZiBfX25hbWVfXz09J19fbWFpbl9fJzoKICAgIG9zLnN5c3RlbSgnZ2l0IHB1bGwnKQogICAgX19fbWVudV9fXygpCgo="))